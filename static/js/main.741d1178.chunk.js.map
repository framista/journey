{"version":3,"sources":["utils/format.js","components/JourneyDeleteModal.js","components/JourneyTile.js","components/NoJourney.js","components/Journeys.js","components/NotFoundPage.js","components/ModalError.js","utils/validation.js","components/JourneyForm.js","components/JourneyCreate.js","routes/AppRoute.js","App.js","index.js"],"names":["formatSingleNumber","number","JourneyDeleteModal","props","journey","deleteJourney","setDeleteModal","setBlockClicking","location","startDate","id","closeModal","e","stopPropagation","className","day","month","year","formatDate","onClick","handleDelete","JourneyTile","imageFile","useState","deleteModal","console","log","src","alt","name","split","size","round","NoJourney","to","Journeys","JSON","parse","localStorage","getItem","journeys","setJourneys","blockClicking","handleDeleteJourney","journeysFiltered","filter","style","pointerEvents","length","map","key","NotFoundPage","history","push","PropTypes","ModalError","title","string","isRequired","description","onCloseModal","func","validateLocation","test","validateStartDate","monthLength","Date","validateDescription","JourneyForm","setJourney","travellingCompanion","errorJourney","setErrorJourney","member","setMember","imageName","setImageName","modalError","setModalError","days","Array","fill","_","index","months","years","getFullYear","y","onStartDateChange","value","period","startDateError","onSubmitJourneyForm","preventDefault","validateForm","submitJourney","locationError","descriptionError","newErrorJourney","checkErrors","onSubmit","type","onChange","target","rows","el","newCompanion","i","deleteCompanion","onKeyPress","travellingCompanionError","membersAmount","validateTravellingCompanion","fileSize","imageSize","Math","files","fileImageError","reader","FileReader","addEventListener","result","pop","readAsDataURL","onFileImageChange","htmlFor","submitButton","JourneyCreate","uuidv4","unshift","setItem","stringify","err","AppRouter","path","component","exact","App","AppRoute","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.741d1178.chunk.js","sourcesContent":["const formatSingleNumber = (number) => (number < 10 ? '0' + number : number);\r\n\r\nexport const formatDate = ({ day, month, year }) =>\r\n  `${formatSingleNumber(day)}.${formatSingleNumber(month)}.${year}`;\r\n","import React from 'react';\r\nimport { formatDate } from '../utils/format';\r\n\r\nfunction JourneyDeleteModal(props) {\r\n  const { journey, deleteJourney, setDeleteModal, setBlockClicking } = props;\r\n  const { location, startDate, id } = journey;\r\n\r\n  const closeModal = (e) => {\r\n    e.stopPropagation();\r\n    setDeleteModal(false);\r\n    setBlockClicking(false);\r\n  };\r\n\r\n  const handleDelete = (e, id) => {\r\n    closeModal(e);\r\n    deleteJourney(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"background\"></div>\r\n      <div className=\"delete-modal\">\r\n        <div className=\"delete-modal__title\">\r\n          <h5>Are you sure to delete this journey?</h5>\r\n        </div>\r\n        <div className=\"delete-modal__body\">\r\n          <p>\r\n            If you want to delete journey in <span>{location}</span>, which\r\n            started at <span>{formatDate(startDate)}</span> press YES.\r\n          </p>\r\n        </div>\r\n        <div className=\"delete-modal__footer\">\r\n          <button\r\n            className=\"delete-modal__button delete-modal__button--yes\"\r\n            onClick={(e) => handleDelete(e, id)}\r\n          >\r\n            YES\r\n          </button>\r\n          <button\r\n            className=\"delete-modal__button delete-modal__button--no\"\r\n            onClick={(e) => closeModal(e)}\r\n          >\r\n            NO\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default JourneyDeleteModal;\r\n","import React, { useState } from 'react';\r\nimport { TiDelete } from 'react-icons/ti';\r\nimport JourneyDeleteModal from './JourneyDeleteModal';\r\nimport Avatar from 'react-avatar';\r\n\r\nfunction JourneyTile(props) {\r\n  const { journey, deleteJourney, setBlockClicking } = props;\r\n  const { location, startDate, imageFile } = journey;\r\n  const [deleteModal, setDeleteModal] = useState(false);\r\n\r\n  const handleDelete = (e) => {\r\n    e.stopPropagation();\r\n    setDeleteModal(true);\r\n    setBlockClicking(true);\r\n  };\r\n\r\n  const handleShow = () => {\r\n    console.log(location + startDate);\r\n  };\r\n\r\n  return (\r\n    <div className=\"journey\" onClick={handleShow}>\r\n      {imageFile ? (\r\n        <img className=\"journey__img\" src={imageFile} alt=\"\" />\r\n      ) : (\r\n        <Avatar name={location.split(' ')[0]} size={60} round=\"50%\" />\r\n      )}\r\n      <div className=\"journey__description\">\r\n        <h3 className=\"journey__h3\">{location}</h3>\r\n        {/* TODO: improve date */}\r\n        <p className=\"journey__p\">{startDate.day}</p>\r\n      </div>\r\n      <TiDelete className=\"journey__icon\" onClick={(e) => handleDelete(e)} />\r\n      {deleteModal && (\r\n        <JourneyDeleteModal\r\n          journey={journey}\r\n          deleteJourney={deleteJourney}\r\n          setDeleteModal={setDeleteModal}\r\n          setBlockClicking={setBlockClicking}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default JourneyTile;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NoJourney() {\r\n  return (\r\n    <div className=\"no-journey\">\r\n      <h2 className=\"no-journey__h2\">You don't have any journeys</h2>\r\n      <Link to=\"/create\" className=\"no-journey__btn\">Add journey</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NoJourney;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport JourneyTile from './JourneyTile';\r\nimport NoJourney from './NoJourney';\r\n\r\nfunction Journeys() {\r\n  /* TODO: change image*/\r\n  const [journeys, setJourneys] = useState(\r\n    JSON.parse(localStorage.getItem('journeys')) || []\r\n  );\r\n\r\n  const [blockClicking, setBlockClicking] = useState(false);\r\n\r\n  const handleDeleteJourney = (id) => {\r\n    const journeysFiltered = journeys.filter((journey) => journey.id !== id);\r\n    setJourneys(journeysFiltered);\r\n  };\r\n\r\n  return (\r\n    <main className=\"container\">\r\n      <section\r\n        className=\"center-container\"\r\n        style={{ pointerEvents: blockClicking ? 'none' : 'auto' }}\r\n      >\r\n        {journeys.length ? (\r\n          <div className=\"journey-container\">\r\n            {journeys.map((journey) => (\r\n              <JourneyTile\r\n                journey={journey}\r\n                key={journey.id}\r\n                deleteJourney={handleDeleteJourney}\r\n                setBlockClicking={setBlockClicking}\r\n              />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <NoJourney />\r\n        )}\r\n        <Link className=\"new-journey__btn--create\" to=\"/create\">\r\n          +\r\n        </Link>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Journeys;\r\n","import React from 'react';\r\n\r\nfunction NotFoundPage(props) {\r\n  return (\r\n    <main className=\"container\">\r\n      <section className=\"no-page\">\r\n        <div className=\"no-page__info\">\r\n          <h2 className=\"no-page__title\">Oops, page not found</h2>\r\n          <p className=\"no-page__description\">\r\n            We are very sorry for the inconvenience. It looks like you're trying\r\n            to access a page that has been deleted or never even existed.\r\n          </p>\r\n          <button\r\n            className=\"no-page__btn\"\r\n            onClick={() => props.history.push('/')}\r\n          >\r\n            Back to homepage\r\n          </button>\r\n        </div>\r\n        <div className=\"no-page__picture\">\r\n          <img\r\n            src=\"https://images.unsplash.com/photo-1549747862-084be795471b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80\"\r\n            alt=\"desert-island\"\r\n          />\r\n          <p className=\"no-page__error\">404</p>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default NotFoundPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ModalError(props) {\r\n  const { title, description, onCloseModal } = props;\r\n  return (\r\n    <div className=\"modal-error\">\r\n      <div className=\"modal-error__icon\">!</div>\r\n      <h3 className=\"modal-error__title\">{title}</h3>\r\n      <p className=\"modal-error__description\">{description}</p>\r\n      <button className=\"modal-error__button\" onClick={onCloseModal}>\r\n        OK\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nPropTypes.ModalError = {\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  onCloseModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ModalError;\r\n","export const validateLocation = (location) => {\r\n  if (/^(\\s|\\d)/.test(location)) {\r\n    return 'The location should start with a letter';\r\n  } else if (location.length < 3 || location.length > 60) {\r\n    return 'The location should contain min 3 and max 60 characters';\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const validateStartDate = ({ day, month, year }) => {\r\n  const monthLength = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n  if (year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0)) {\r\n    monthLength[1] = 29;\r\n  }\r\n  if (day > monthLength[month - 1]) {\r\n    return 'Not correct date';\r\n  } else if (new Date(year, month - 1, day) > new Date()) {\r\n    return \"Date shouldn't be from future\";\r\n  } else {\r\n    return '';\r\n  }\r\n};\r\n\r\nexport const validateDescription = (description) => {\r\n  return description.length > 300\r\n    ? 'The description should contain max 300 characters'\r\n    : '';\r\n};\r\n\r\nexport const validateTravellingCompanion = (member, membersAmount) => {\r\n  if (membersAmount > 15) {\r\n    return 'You have too many travelling companions';\r\n  } else if (member.length < 3) {\r\n    return 'The travelling companion should contain at least 3 characters';\r\n  } else if (member.length > 15) {\r\n    return 'The travelling companion should contain max 15 characters';\r\n  } else {\r\n    return '';\r\n  }\r\n};\r\n\r\nexport const validateImageFile = (filename, fileSize) => {\r\n  const allowedExtensions = /(\\.jpg|\\.jpeg|\\.png)$/i;\r\n  if (!allowedExtensions.test(filename)) {\r\n    return 'Not correct type of image file';\r\n  } else if (fileSize > 1000) {\r\n    return 'Too big image';\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const checkErrors = (errorJourney) => {\r\n  for (let key in errorJourney) {\r\n    if (errorJourney[key]) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport ModalError from './ModalError';\r\n\r\nimport {\r\n  checkErrors,\r\n  validateLocation,\r\n  validateStartDate,\r\n  validateDescription,\r\n  validateTravellingCompanion,\r\n  validateImageFile,\r\n} from '../utils/validation';\r\n\r\nfunction JourneyForm(props) {\r\n  const [journey, setJourney] = useState(props.journey);\r\n\r\n  const [errorJourney, setErrorJourney] = useState({\r\n    location: '',\r\n    startDate: '',\r\n    description: '',\r\n    travellingCompanion: '',\r\n    imageFile: '',\r\n  });\r\n\r\n  const [member, setMember] = useState('');\r\n  const [imageName, setImageName] = useState('');\r\n\r\n  const [modalError, setModalError] = useState(false);\r\n\r\n  const days = new Array(31).fill(0).map((_, index) => index + 1);\r\n  const months = new Array(12).fill(0).map((_, index) => index + 1);\r\n  const years = new Array(51)\r\n    .fill(new Date().getFullYear())\r\n    .map((y, index) => y - index);\r\n\r\n  const onLocationChange = (e) => {\r\n    const location = e.target.value;\r\n    setJourney({ ...journey, location });\r\n    const locationError = validateLocation(location);\r\n    setErrorJourney({\r\n      ...errorJourney,\r\n      location: locationError,\r\n    });\r\n  };\r\n\r\n  const onStartDateChange = (value, period) => {\r\n    const { startDate } = journey;\r\n    startDate[period] = value;\r\n    setJourney({ ...journey, startDate });\r\n    const startDateError = validateStartDate(startDate);\r\n    setErrorJourney({ ...errorJourney, startDate: startDateError });\r\n  };\r\n\r\n  const onDescriptionChange = (e) => {\r\n    const description = e.target.value;\r\n    setJourney({ ...journey, description });\r\n    const descriptionError = validateDescription(description);\r\n    setErrorJourney({\r\n      ...errorJourney,\r\n      description: descriptionError,\r\n    });\r\n  };\r\n\r\n  const deleteCompanion = (index) => {\r\n    const newCompanion = journey.travellingCompanion.filter(\r\n      (_, i) => i !== index\r\n    );\r\n    setJourney({ ...journey, travellingCompanion: newCompanion });\r\n  };\r\n\r\n  const onTravellingCompanionChange = (e) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      const travellingCompanionError = validateTravellingCompanion(\r\n        member,\r\n        journey.travellingCompanion.length\r\n      );\r\n      if (!travellingCompanionError) {\r\n        const newCompanion = [...journey.travellingCompanion, member];\r\n        setJourney({ ...journey, travellingCompanion: newCompanion });\r\n        setMember('');\r\n      }\r\n      setErrorJourney({\r\n        ...errorJourney,\r\n        travellingCompanion: travellingCompanionError,\r\n      });\r\n    }\r\n  };\r\n\r\n  const onFileImageChange = (e) => {\r\n    const imageFile = e.target.value;\r\n    const imageSize = Math.round(e.target.files[0].size / 1024);\r\n    const fileImageError = validateImageFile(imageFile, imageSize);\r\n    setErrorJourney({ ...errorJourney, imageFile: fileImageError });\r\n    if (!fileImageError) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () => {\r\n        setJourney({ ...journey, imageFile: reader.result });\r\n        setImageName(imageFile.split(/(\\\\|\\/)/g).pop());\r\n      });\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onSubmitJourneyForm = (e) => {\r\n    e.preventDefault();\r\n    const isFormInvalid = validateForm();\r\n    if (isFormInvalid) {\r\n      setModalError(true);\r\n    } else {\r\n      setModalError(false);\r\n      props.submitJourney(journey);\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const { location, startDate, description } = journey;\r\n    const locationError = validateLocation(location);\r\n    const descriptionError = validateDescription(description);\r\n    const startDateError = validateStartDate(startDate);\r\n    const newErrorJourney = {\r\n      ...errorJourney,\r\n      location: locationError,\r\n      startDate: startDateError,\r\n      description: descriptionError,\r\n    };\r\n    setErrorJourney(newErrorJourney);\r\n    return checkErrors(newErrorJourney);\r\n  };\r\n\r\n  const onCloseModalError = () => {\r\n    setModalError(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"new-journey__form\" onSubmit={onSubmitJourneyForm}>\r\n        <div className=\"new-journey__group\">\r\n          <label>Location</label>\r\n          <input\r\n            type=\"text\"\r\n            onChange={onLocationChange}\r\n            value={journey.location}\r\n          />\r\n          {errorJourney.location && (\r\n            <p className=\"new-journey__error\">{errorJourney.location}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Start date</label>\r\n          <div className=\"new-journey__date\">\r\n            <div className=\"new-journey__select\">\r\n              Day\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'day')}\r\n                value={journey.startDate.day}\r\n              >\r\n                {days.map((day) => (\r\n                  <option key={day} value={day}>\r\n                    {day}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"new-journey__select\">\r\n              Month\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'month')}\r\n                value={journey.startDate.month}\r\n              >\r\n                {months.map((month) => (\r\n                  <option key={month} value={month}>\r\n                    {month}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"new-journey__select\">\r\n              Year\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'year')}\r\n                value={journey.startDate.year}\r\n              >\r\n                {years.map((year) => (\r\n                  <option key={year} value={year}>\r\n                    {year}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          {errorJourney.startDate && (\r\n            <p className=\"new-journey__error\">{errorJourney.startDate}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Description</label>\r\n          <textarea\r\n            onChange={onDescriptionChange}\r\n            value={journey.description}\r\n            rows={3}\r\n          ></textarea>\r\n          {errorJourney.description && (\r\n            <p className=\"new-journey__error\">{errorJourney.description}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Travelling companion</label>\r\n          <div className=\"new-journey__companion\">\r\n            {journey.travellingCompanion.length > 0 ? (\r\n              journey.travellingCompanion.map((el, index) => (\r\n                <div className=\"new-journey__chip\" key={index}>\r\n                  {el}\r\n                  <div\r\n                    className=\"new-journey__chip--delete\"\r\n                    onClick={() => deleteCompanion(index)}\r\n                  >\r\n                    &times;\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"new-journey__add-companion\">\r\n                Insert below the name of travelling companion and press 'Enter'\r\n              </p>\r\n            )}\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            onKeyPress={onTravellingCompanionChange}\r\n            value={member}\r\n            onChange={(e) => setMember(e.target.value)}\r\n          />\r\n          {errorJourney.travellingCompanion && (\r\n            <p className=\"new-journey__error\">\r\n              {errorJourney.travellingCompanion}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Image</label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"file-image\"\r\n            onChange={(e) => onFileImageChange(e)}\r\n          />\r\n          <div className=\"new-journey__image-info\">\r\n            <label htmlFor=\"file-image\" className=\"new-journey__label--image\">\r\n              Choose image\r\n            </label>\r\n            {imageName && (\r\n              <p className=\"new-journey__image-name\">\r\n                Selected file\r\n                <span> {imageName}</span>\r\n              </p>\r\n            )}\r\n          </div>\r\n          {errorJourney.imageFile && (\r\n            <p className=\"new-journey__error\">{errorJourney.imageFile}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__buttons\">\r\n          <Link\r\n            className=\"new-journey__button new-journey__button--back\"\r\n            to=\"/\"\r\n          >\r\n            back to homepage\r\n          </Link>\r\n          <button\r\n            className=\"new-journey__button new-journey__button--add\"\r\n            onClick={onSubmitJourneyForm}\r\n          >\r\n            {props.submitButton}\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {modalError && (\r\n        <>\r\n          <div className=\"background\"></div>\r\n          <ModalError\r\n            title=\"Oops!\"\r\n            description=\"Your form is not correctly filled. Please improve the form and try again.\"\r\n            onCloseModal={onCloseModalError}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nJourneyForm.propTypes = {\r\n  journey: PropTypes.object.isRequired,\r\n  submitButton: PropTypes.string.isRequired,\r\n  submitJourney: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default JourneyForm;\r\n","import React, { useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ModalError from './ModalError';\r\nimport JourneyForm from './JourneyForm';\r\n\r\nfunction JourneyCreate(props) {\r\n  const [modalError, setModalError] = useState(false);\r\n\r\n  const journey = {\r\n    id: uuidv4(),\r\n    location: '',\r\n    startDate: { day: 1, month: 1, year: new Date().getFullYear() },\r\n    description: '',\r\n    travellingCompanion: [],\r\n    imageFile: '',\r\n  };\r\n\r\n  const saveJourney = (journey) => {\r\n    const journeys = JSON.parse(localStorage.getItem('journeys')) || [];\r\n    journeys.unshift(journey);\r\n    try {\r\n      localStorage.setItem('journeys', JSON.stringify(journeys));\r\n      props.history.push('/');\r\n    } catch (err) {\r\n      setModalError(true);\r\n    }\r\n  };\r\n\r\n  const onCloseModalError = () => {\r\n    setModalError(false);\r\n  };\r\n\r\n  return (\r\n    <main className=\"container\">\r\n      <section className=\"new-journey\">\r\n        <img\r\n          className=\"new-journey__img\"\r\n          src=\"https://images.unsplash.com/photo-1553512313-64af79fdfe9c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=400&q=80\"\r\n          alt=\"new-journey\"\r\n        />\r\n        <JourneyForm\r\n          submitButton=\"add journey\"\r\n          journey={journey}\r\n          submitJourney={saveJourney}\r\n        />\r\n        {modalError && (\r\n          <>\r\n            <div className=\"background\"></div>\r\n            <ModalError\r\n              title=\"Oops!\"\r\n              description=\"There is no space to save this journey ðŸ˜²\"\r\n              onCloseModal={onCloseModalError}\r\n            />\r\n          </>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default JourneyCreate;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Journeys from '../components/Journeys';\r\nimport NotFoundPage from '../components/NotFoundPage';\r\nimport JourneyCreate from '../components/JourneyCreate';\r\n\r\nconst AppRouter = () => (\r\n  <Router>\r\n    <div>\r\n      <Switch>\r\n        <Route path=\"/\" component={Journeys} exact={true} />\r\n        <Route path=\"/create\" component={JourneyCreate} />\r\n        <Route component={NotFoundPage} />\r\n      </Switch>\r\n    </div>\r\n  </Router>\r\n);\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\nimport 'normalize.css';\nimport './scss/base/App.scss';\nimport AppRoute from './routes/AppRoute';\n\nfunction App() {\n  return <AppRoute />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/base/App.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}