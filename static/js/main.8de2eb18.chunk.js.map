{"version":3,"sources":["utils/format.js","components/modalDelete/index.js","components/JourneyDetail.js","components/JourneyTile.js","components/no-journey/index.js","components/searchForm/index.js","components/Journeys.js","utils/sort.js","utils/match.js","components/pages/notFoundPage/index.js","components/modalError/index.js","utils/validation.js","components/JourneyForm.js","components/pages/create/index.js","components/pages/edit/index.js","routes/AppRouter.js","App.js","index.js"],"names":["formatSingleNumber","number","formatter","Intl","RelativeTimeFormat","numeric","DIVISIONS","amount","name","Number","POSITIVE_INFINITY","DeleteModal","props","journey","deleteJourney","setDeleteModal","setBlockClicking","location","startDate","id","closeModal","e","stopPropagation","className","day","month","year","formatDate","onClick","handleDelete","JourneyDetail","setDetail","description","travellingCompanion","imageFile","ReactDOM","createPortal","src","alt","length","map","companion","index","key","trim","to","document","getElementById","JourneyTile","useState","deleteModal","detail","split","size","round","date","duration","Date","i","division","Math","abs","format","formatTimeAgo","NoJourney","SearchForm","sort","searchText","setSearchText","type","placeholder","value","onChange","target","Journeys","JSON","parse","localStorage","getItem","journeys","setJourneys","journeysToShow","setJourneysToShow","blockClicking","useEffect","handleDeleteJourney","journeysFiltered","filter","style","pointerEvents","prevJourneys","slice","a","b","dateA","parseInt","getTime","text","object","matchText","toLowerCase","includes","Object","values","some","withRouter","history","push","PropTypes","ModalError","title","string","isRequired","onCloseModal","func","validateLocation","test","validateStartDate","monthLength","validateDescription","validateTravellingCompanion","member","membersAmount","JourneyForm","setJourney","errorJourney","setErrorJourney","setMember","imageName","setImageName","modalError","setModalError","days","Array","fill","_","months","years","getFullYear","y","onStartDateChange","period","startDateError","onSubmitJourneyForm","preventDefault","validateForm","submitJourney","locationError","descriptionError","newErrorJourney","checkErrors","onSubmit","submitButton","rows","el","newCompanions","travellingCompanionError","deleteCompanion","onKeyPress","console","log","newCompanion","fileSize","imageSize","files","fileImageError","reader","FileReader","addEventListener","result","pop","readAsDataURL","htmlFor","JourneyCreate","currentDate","uuidv4","getDate","getMonth","unshift","setItem","stringify","err","JourneyEdit","match","params","journeyIndex","findIndex","updatedJourney","splice","AppRouter","path","component","exact","NotFoundPage","App","render","StrictMode"],"mappings":"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","file":"static/js/main.8de2eb18.chunk.js","sourcesContent":["const formatSingleNumber = (number) => (number < 10 ? '0' + number : number);\r\n\r\nexport const formatDate = ({ day, month, year }) =>\r\n  `${formatSingleNumber(day)}.${formatSingleNumber(month)}.${year}`;\r\n\r\nconst formatter = new Intl.RelativeTimeFormat('en-us', {\r\n  numeric: 'auto',\r\n});\r\n\r\nconst DIVISIONS = [\r\n  { amount: 60, name: 'seconds' },\r\n  { amount: 60, name: 'minutes' },\r\n  { amount: 24, name: 'hours' },\r\n  { amount: 7, name: 'days' },\r\n  { amount: 4.34524, name: 'weeks' },\r\n  { amount: 12, name: 'months' },\r\n  { amount: Number.POSITIVE_INFINITY, name: 'years' },\r\n];\r\n\r\nexport const formatTimeAgo = (date) => {\r\n  let duration = (date - new Date()) / 1000;\r\n  for (let i = 0; i <= DIVISIONS.length; i++) {\r\n    const division = DIVISIONS[i];\r\n    if (Math.abs(duration) < division.amount) {\r\n      return formatter.format(Math.round(duration), division.name);\r\n    }\r\n    duration /= division.amount;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { formatDate } from '../../utils/format';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction DeleteModal(props) {\r\n  const { journey, deleteJourney, setDeleteModal, setBlockClicking } = props;\r\n  const { location, startDate, id } = journey;\r\n\r\n  const closeModal = (e) => {\r\n    e.stopPropagation();\r\n    setDeleteModal(false);\r\n    setBlockClicking(false);\r\n  };\r\n\r\n  const handleDelete = (e, id) => {\r\n    closeModal(e);\r\n    deleteJourney(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"background\"></div>\r\n      <div className=\"delete-modal\">\r\n        <div className=\"delete-modal__title\">\r\n          <h5>Are you sure to delete this journey?</h5>\r\n        </div>\r\n        <div className=\"delete-modal__body\">\r\n          <p>\r\n            If you want to delete journey in <span>{location}</span>, which\r\n            started at <span>{formatDate(startDate)}</span> press YES.\r\n          </p>\r\n        </div>\r\n        <div className=\"delete-modal__footer\">\r\n          <button\r\n            className=\"delete-modal__button delete-modal__button--yes\"\r\n            onClick={(e) => handleDelete(e, id)}\r\n          >\r\n            YES\r\n          </button>\r\n          <button\r\n            className=\"delete-modal__button delete-modal__button--no\"\r\n            onClick={(e) => closeModal(e)}\r\n          >\r\n            NO\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nDeleteModal.propTypes = {\r\n  journey: PropTypes.object.isRequired,\r\n  deleteJourney: PropTypes.func.isRequired,\r\n  setDeleteModal: PropTypes.func.isRequired,\r\n  setBlockClicking: PropTypes.func.isRequired\r\n}\r\nexport default DeleteModal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction JourneyDetail(props) {\r\n  const { journey, setBlockClicking, setDetail } = props;\r\n  const {\r\n    id,\r\n    location,\r\n    startDate,\r\n    description,\r\n    travellingCompanion,\r\n    imageFile,\r\n  } = journey;\r\n\r\n  const closeModal = (e) => {\r\n    e.stopPropagation();\r\n    setDetail(false);\r\n    setBlockClicking(false);\r\n  };\r\n\r\n  return ReactDOM.createPortal(\r\n    <>\r\n      <div className=\"background\"></div>\r\n      <div className=\"journey-detail\">\r\n        <div className=\"journey-detail__title\">\r\n          <h5>{location}</h5>\r\n        </div>\r\n        <div className=\"journey-detail__body\">\r\n          <div className=\"journey-detail__image\">\r\n            {imageFile ? (\r\n              <img src={imageFile} alt=\"journey-img\" />\r\n            ) : (\r\n              <img\r\n                src=\"https://images.unsplash.com/photo-1444703686981-a3abbc4d4fe3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80\"\r\n                alt=\"journey-img\"\r\n              />\r\n            )}\r\n          </div>\r\n          <p className=\"journey-detail__location\">\r\n            Your journey in&nbsp;\r\n            <span>{location}</span> started at&nbsp;\r\n            <span>\r\n              {startDate.day}.{startDate.month}.{startDate.year}\r\n            </span>\r\n            .\r\n          </p>\r\n          {travellingCompanion.length > 0 && (\r\n            <>\r\n              <p className=\"journey-detail__travelling\">\r\n                You spent your vacation with:\r\n              </p>\r\n              <ul className=\"journey-detail__list\">\r\n                {travellingCompanion.map((companion, index) => (\r\n                  <li key={index} className=\"journey-detail__list--item\">\r\n                    {companion.trim()}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </>\r\n          )}\r\n          {description && (\r\n            <p className=\"journey-detail__description\">{description}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"journey-detail__footer\">\r\n          <Link\r\n            to={`/edit/${id}`}\r\n            className=\"journey-detail__button journey-detail__button--edit\"\r\n          >\r\n            edit\r\n          </Link>\r\n          <button\r\n            className=\"journey-detail__button journey-detail__button--cancel\"\r\n            onClick={closeModal}\r\n          >\r\n            close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>,\r\n    document.getElementById('portal')\r\n  );\r\n}\r\n\r\nJourneyDetail.propTypes = {\r\n  journey: PropTypes.object.isRequired,\r\n  setBlockClicking: PropTypes.func.isRequired,\r\n  setDetail: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default JourneyDetail;\r\n","import React, { useState, Fragment } from 'react';\r\nimport { TiDelete } from 'react-icons/ti';\r\nimport DeleteModal from '../components/modalDelete';\r\nimport Avatar from 'react-avatar';\r\nimport { formatTimeAgo } from '../utils/format';\r\nimport JourneyDetail from './JourneyDetail';\r\n\r\nfunction JourneyTile(props) {\r\n  const { journey, deleteJourney, setBlockClicking } = props;\r\n  const { location, startDate, imageFile } = journey;\r\n  const [deleteModal, setDeleteModal] = useState(false);\r\n  const [detail, setDetail] = useState(false);\r\n\r\n  const handleDelete = (e) => {\r\n    e.stopPropagation();\r\n    setDeleteModal(true);\r\n    setBlockClicking(true);\r\n  };\r\n\r\n  const handleShow = () => {\r\n    setDetail(true);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"journey\" onClick={handleShow}>\r\n        {imageFile ? (\r\n          <img className=\"journey__img\" src={imageFile} alt=\"\" />\r\n        ) : (\r\n          <Avatar name={location.split(' ')[0]} size={60} round=\"50%\" />\r\n        )}\r\n        <div className=\"journey__description\">\r\n          <h3 className=\"journey__h3\">{location}</h3>\r\n          <p className=\"journey__p\">\r\n            {formatTimeAgo(\r\n              new Date(startDate.year, startDate.month - 1, startDate.day, 12)\r\n            )}\r\n          </p>\r\n        </div>\r\n        <TiDelete className=\"journey__icon\" onClick={(e) => handleDelete(e)} />\r\n        {deleteModal && (\r\n          <DeleteModal\r\n            journey={journey}\r\n            deleteJourney={deleteJourney}\r\n            setDeleteModal={setDeleteModal}\r\n            setBlockClicking={setBlockClicking}\r\n          />\r\n        )}\r\n      </div>\r\n      {detail && (\r\n        <JourneyDetail\r\n          journey={journey}\r\n          setDetail={setDetail}\r\n          setBlockClicking={setBlockClicking}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default JourneyTile;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NoJourney() {\r\n  return (\r\n    <div className=\"no-journey\">\r\n      <h2 className=\"no-journey__h2\">You don't have any journeys</h2>\r\n      <Link to=\"/create\" className=\"no-journey__btn\">Add journey</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NoJourney;\r\n","import React from 'react';\r\nimport { AiOutlineSortAscending } from 'react-icons/ai';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction SearchForm({ sort, searchText, setSearchText }) {\r\n  return (\r\n    <div className=\"search-form\">\r\n      <input\r\n        className=\"search-form__input\"\r\n        type=\"text\"\r\n        placeholder=\"Search...\"\r\n        value={searchText}\r\n        onChange={(e) => setSearchText(e.target.value)}\r\n      />\r\n      <button className=\"search-form__button--sort\" onClick={sort}>\r\n        <AiOutlineSortAscending />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchForm.propTypes = {\r\n  sort: PropTypes.func.isRequired,\r\n  setSearchText: PropTypes.func.isRequired,\r\n  searchText: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default SearchForm;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport JourneyTile from './JourneyTile';\r\nimport NoJourney from './no-journey';\r\nimport SearchForm from './searchForm';\r\nimport { sortByDate } from '../utils/sort';\r\nimport { matchText } from '../utils/match';\r\n\r\nfunction Journeys() {\r\n  /* TODO: change image*/\r\n  const [journeys, setJourneys] = useState(\r\n    JSON.parse(localStorage.getItem('journeys')) || []\r\n  );\r\n  const [journeysToShow, setJourneysToShow] = useState(journeys);\r\n  const [blockClicking, setBlockClicking] = useState(false);\r\n  const [searchText, setSearchText] = useState('');\r\n\r\n  useEffect(() => {\r\n    setJourneysToShow(journeys);\r\n  }, [journeys]);\r\n\r\n  const handleDeleteJourney = (id) => {\r\n    const journeysFiltered = journeys.filter((journey) => journey.id !== id);\r\n    setJourneys(journeysFiltered);\r\n    setSearchText('');\r\n  };\r\n\r\n  const sortJourneys = () => {\r\n    setJourneysToShow((prevJourneys) => sortByDate(prevJourneys));\r\n  };\r\n\r\n  const searchInJourneys = (text) => {\r\n    const journeysFiltered = journeys.filter((journey) => {\r\n      const { id, imageFile, ...object } = journey;\r\n      return matchText(text.toLowerCase(), object);\r\n    });\r\n    setJourneysToShow(journeysFiltered);\r\n    setSearchText(text);\r\n  };\r\n\r\n  return (\r\n    <main className=\"container\">\r\n      <section\r\n        className=\"center-container\"\r\n        style={{ pointerEvents: blockClicking ? 'none' : 'auto' }}\r\n      >\r\n        <SearchForm\r\n          sort={sortJourneys}\r\n          searchText={searchText}\r\n          setSearchText={searchInJourneys}\r\n        />\r\n        {journeys.length ? (\r\n          journeysToShow.length ? (\r\n            <div className=\"journey-container\">\r\n              {journeysToShow.map((journey) => (\r\n                <JourneyTile\r\n                  journey={journey}\r\n                  key={journey.id}\r\n                  deleteJourney={handleDeleteJourney}\r\n                  setBlockClicking={setBlockClicking}\r\n                />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <h2 className=\"no-journey-toshow\">There is nothing to show</h2>\r\n          )\r\n        ) : (\r\n          <NoJourney />\r\n        )}\r\n        <Link className=\"new-journey__btn--create\" to=\"/create\">\r\n          +\r\n        </Link>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Journeys;\r\n","export const sortByDate = (arr) => {\r\n  return arr.slice().sort((a, b) => {\r\n    const dateA = new Date(\r\n      a.startDate.year,\r\n      a.startDate.month - 1,\r\n      parseInt(a.startDate.day, 10)\r\n    );\r\n    const dateB = new Date(\r\n      b.startDate.year,\r\n      b.startDate.month - 1,\r\n      parseInt(b.startDate.day, 10)\r\n    );\r\n    return dateB.getTime() - dateA.getTime();\r\n  });\r\n};\r\n","export const matchText = (text, object) => {\r\n  if (typeof object === 'string') return object.toLowerCase().includes(text);\r\n  return Object.values(object).some((value) => matchText(text, value));\r\n};\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction NotFoundPage(props) {\r\n  return (\r\n    <main className=\"container\">\r\n      <section className=\"no-page\">\r\n        <div className=\"no-page__info\">\r\n          <h2 className=\"no-page__title\">Oops, page not found</h2>\r\n          <p className=\"no-page__description\">\r\n            We are very sorry for the inconvenience. It looks like you're trying\r\n            to access a page that has been deleted or never even existed.\r\n          </p>\r\n          <button\r\n            className=\"no-page__btn\"\r\n            onClick={() => props.history.push('/')}\r\n          >\r\n            Back to homepage\r\n          </button>\r\n        </div>\r\n        <div className=\"no-page__picture\">\r\n          <img\r\n            src=\"https://images.unsplash.com/photo-1549747862-084be795471b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80\"\r\n            alt=\"desert-island\"\r\n          />\r\n          <p className=\"no-page__error\">404</p>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default withRouter(NotFoundPage);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ModalError(props) {\r\n  const { title, description, onCloseModal } = props;\r\n  return (\r\n    <div className=\"modal-error\">\r\n      <div className=\"modal-error__icon\">!</div>\r\n      <h3 className=\"modal-error__title\">{title}</h3>\r\n      <p className=\"modal-error__description\">{description}</p>\r\n      <button className=\"modal-error__button\" onClick={onCloseModal}>\r\n        OK\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nPropTypes.ModalError = {\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  onCloseModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ModalError;\r\n","export const validateLocation = (location) => {\r\n  if (/^(\\s|\\d)/.test(location)) {\r\n    return 'The location should start with a letter';\r\n  } else if (location.length < 3 || location.length > 60) {\r\n    return 'The location should contain min 3 and max 60 characters';\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const validateStartDate = ({ day, month, year }) => {\r\n  const monthLength = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n  if (year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0)) {\r\n    monthLength[1] = 29;\r\n  }\r\n  if (day > monthLength[month - 1]) {\r\n    return 'Not correct date';\r\n  } else if (new Date(year, month - 1, day) > new Date()) {\r\n    return \"Date shouldn't be from future\";\r\n  } else {\r\n    return '';\r\n  }\r\n};\r\n\r\nexport const validateDescription = (description) => {\r\n  return description.length > 300\r\n    ? 'The description should contain max 300 characters'\r\n    : '';\r\n};\r\n\r\nexport const validateTravellingCompanion = (member, membersAmount) => {\r\n  if (membersAmount > 15) {\r\n    return 'You cannot add more travelling companions';\r\n  } else if (member.length < 3) {\r\n    return 'The travelling companion should contain at least 3 characters';\r\n  } else if (member.length > 15) {\r\n    return 'The travelling companion should contain max 15 characters';\r\n  } else {\r\n    return '';\r\n  }\r\n};\r\n\r\nexport const validateImageFile = (filename, fileSize) => {\r\n  const allowedExtensions = /(\\.jpg|\\.jpeg|\\.png)$/i;\r\n  if (!allowedExtensions.test(filename)) {\r\n    return 'Not correct type of image file';\r\n  } else if (fileSize > 1000) {\r\n    return 'Too big image';\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const checkErrors = (errorJourney) => {\r\n  for (let key in errorJourney) {\r\n    if (errorJourney[key]) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport ModalError from './modalError';\r\n\r\nimport {\r\n  checkErrors,\r\n  validateLocation,\r\n  validateStartDate,\r\n  validateDescription,\r\n  validateTravellingCompanion,\r\n  validateImageFile,\r\n} from '../utils/validation';\r\n\r\nfunction JourneyForm(props) {\r\n  const [journey, setJourney] = useState(props.journey);\r\n\r\n  const [errorJourney, setErrorJourney] = useState({\r\n    location: '',\r\n    startDate: '',\r\n    description: '',\r\n    travellingCompanion: '',\r\n    imageFile: '',\r\n  });\r\n\r\n  const [member, setMember] = useState('');\r\n  const [imageName, setImageName] = useState('');\r\n\r\n  const [modalError, setModalError] = useState(false);\r\n\r\n  const days = new Array(31).fill(0).map((_, index) => index + 1);\r\n  const months = new Array(12).fill(0).map((_, index) => index + 1);\r\n  const years = new Array(51)\r\n    .fill(new Date().getFullYear())\r\n    .map((y, index) => y - index);\r\n\r\n  const onLocationChange = (e) => {\r\n    const location = e.target.value;\r\n    setJourney({ ...journey, location });\r\n    const locationError = validateLocation(location);\r\n    setErrorJourney({\r\n      ...errorJourney,\r\n      location: locationError,\r\n    });\r\n  };\r\n\r\n  const onStartDateChange = (value, period) => {\r\n    const { startDate } = journey;\r\n    startDate[period] = value;\r\n    setJourney({ ...journey, startDate });\r\n    const startDateError = validateStartDate(startDate);\r\n    setErrorJourney({ ...errorJourney, startDate: startDateError });\r\n  };\r\n\r\n  const onDescriptionChange = (e) => {\r\n    const description = e.target.value;\r\n    setJourney({ ...journey, description });\r\n    const descriptionError = validateDescription(description);\r\n    setErrorJourney({\r\n      ...errorJourney,\r\n      description: descriptionError,\r\n    });\r\n  };\r\n\r\n  const deleteCompanion = (index) => {\r\n    const newCompanions = journey.travellingCompanion.filter(\r\n      (_, i) => i !== index\r\n    );\r\n    const travellingCompanionError = validateTravellingCompanion(\r\n      'correct',\r\n      newCompanions.length\r\n    );\r\n    setErrorJourney({\r\n      ...errorJourney,\r\n      travellingCompanion: travellingCompanionError,\r\n    });\r\n    setJourney({ ...journey, travellingCompanion: newCompanions });\r\n  };\r\n\r\n  const onTravellingCompanionChange = (e) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      console.log(member);\r\n      console.log(member.length);\r\n      const travellingCompanionError = validateTravellingCompanion(\r\n        member,\r\n        journey.travellingCompanion.length + 1 // one because don't want to be out range\r\n      );\r\n      if (!travellingCompanionError) {\r\n        const newCompanion = [...journey.travellingCompanion, member];\r\n        setJourney({ ...journey, travellingCompanion: newCompanion });\r\n        setMember('');\r\n      }\r\n      setErrorJourney({\r\n        ...errorJourney,\r\n        travellingCompanion: travellingCompanionError,\r\n      });\r\n    }\r\n  };\r\n\r\n  const onMemberChange = (e) => {\r\n    const value = e.target.value;\r\n    const travellingCompanionError = validateTravellingCompanion(\r\n      value,\r\n      journey.travellingCompanion.length\r\n    );\r\n    setMember(value);\r\n    setErrorJourney({\r\n      ...errorJourney,\r\n      travellingCompanion: travellingCompanionError,\r\n    });\r\n  };\r\n\r\n  const onFileImageChange = (e) => {\r\n    const imageFile = e.target.value;\r\n    const imageSize = Math.round(e.target.files[0].size / 1024);\r\n    const fileImageError = validateImageFile(imageFile, imageSize);\r\n    setErrorJourney({ ...errorJourney, imageFile: fileImageError });\r\n    if (!fileImageError) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () => {\r\n        setJourney({ ...journey, imageFile: reader.result });\r\n        setImageName(imageFile.split(/(\\\\|\\/)/g).pop());\r\n      });\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onSubmitJourneyForm = (e) => {\r\n    e.preventDefault();\r\n    const isFormInvalid = validateForm();\r\n    if (isFormInvalid) {\r\n      setModalError(true);\r\n    } else {\r\n      setModalError(false);\r\n      props.submitJourney(journey);\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const { location, startDate, description } = journey;\r\n    const locationError = validateLocation(location);\r\n    const descriptionError = validateDescription(description);\r\n    const startDateError = validateStartDate(startDate);\r\n    const newErrorJourney = {\r\n      ...errorJourney,\r\n      location: locationError,\r\n      startDate: startDateError,\r\n      description: descriptionError,\r\n    };\r\n    setErrorJourney(newErrorJourney);\r\n    const { travellingCompanion, ...journeyWithoutCompanion } = newErrorJourney;\r\n    return checkErrors(journeyWithoutCompanion);\r\n  };\r\n\r\n  const onCloseModalError = () => {\r\n    setModalError(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"new-journey__form\" onSubmit={onSubmitJourneyForm}>\r\n        <h2 className=\"new-journey__title\">{props.submitButton}</h2>\r\n        <div className=\"new-journey__group\">\r\n          <label>Location</label>\r\n          <input\r\n            type=\"text\"\r\n            onChange={onLocationChange}\r\n            value={journey.location}\r\n          />\r\n          {errorJourney.location && (\r\n            <p className=\"new-journey__error\">{errorJourney.location}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Start date</label>\r\n          <div className=\"new-journey__date\">\r\n            <div className=\"new-journey__select\">\r\n              Day\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'day')}\r\n                value={journey.startDate.day}\r\n              >\r\n                {days.map((day) => (\r\n                  <option key={day} value={day}>\r\n                    {day}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"new-journey__select\">\r\n              Month\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'month')}\r\n                value={journey.startDate.month}\r\n              >\r\n                {months.map((month) => (\r\n                  <option key={month} value={month}>\r\n                    {month}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"new-journey__select\">\r\n              Year\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'year')}\r\n                value={journey.startDate.year}\r\n              >\r\n                {years.map((year) => (\r\n                  <option key={year} value={year}>\r\n                    {year}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          {errorJourney.startDate && (\r\n            <p className=\"new-journey__error\">{errorJourney.startDate}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Description</label>\r\n          <textarea\r\n            onChange={onDescriptionChange}\r\n            value={journey.description}\r\n            rows={3}\r\n          ></textarea>\r\n          {errorJourney.description && (\r\n            <p className=\"new-journey__error\">{errorJourney.description}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Travelling companion</label>\r\n          <div className=\"new-journey__companion\">\r\n            {journey.travellingCompanion.length > 0 ? (\r\n              journey.travellingCompanion.map((el, index) => (\r\n                <div className=\"new-journey__chip\" key={index}>\r\n                  {el}\r\n                  <div\r\n                    className=\"new-journey__chip--delete\"\r\n                    onClick={() => deleteCompanion(index)}\r\n                  >\r\n                    &times;\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"new-journey__add-companion\">\r\n                Insert below the name of travelling companion and press 'Enter'\r\n              </p>\r\n            )}\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            onKeyPress={onTravellingCompanionChange}\r\n            value={member}\r\n            onChange={onMemberChange}\r\n          />\r\n          {errorJourney.travellingCompanion && (\r\n            <p className=\"new-journey__error\">\r\n              {errorJourney.travellingCompanion}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Image</label>\r\n          <input type=\"file\" id=\"file-image\" onChange={onFileImageChange} />\r\n          <div className=\"new-journey__image-info\">\r\n            <label htmlFor=\"file-image\" className=\"new-journey__label--image\">\r\n              Choose image\r\n            </label>\r\n            {imageName && (\r\n              <p className=\"new-journey__image-name\">\r\n                Selected file\r\n                <span> {imageName}</span>\r\n              </p>\r\n            )}\r\n          </div>\r\n          {errorJourney.imageFile && (\r\n            <p className=\"new-journey__error\">{errorJourney.imageFile}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__buttons\">\r\n          <Link\r\n            className=\"new-journey__button new-journey__button--back\"\r\n            to=\"/\"\r\n          >\r\n            back to homepage\r\n          </Link>\r\n          <button\r\n            className=\"new-journey__button new-journey__button--add\"\r\n            onClick={onSubmitJourneyForm}\r\n          >\r\n            {props.submitButton}\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {modalError && (\r\n        <>\r\n          <div className=\"background\"></div>\r\n          <ModalError\r\n            title=\"Oops!\"\r\n            description=\"Your form is not correctly filled. Please improve the form and try again.\"\r\n            onCloseModal={onCloseModalError}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nJourneyForm.propTypes = {\r\n  journey: PropTypes.object.isRequired,\r\n  submitButton: PropTypes.string.isRequired,\r\n  submitJourney: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default JourneyForm;\r\n","import React, { useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ModalError from '../../modalError';\r\nimport JourneyForm from '../../JourneyForm';\r\n\r\nfunction JourneyCreate(props) {\r\n  const [modalError, setModalError] = useState(false);\r\n  const currentDate = new Date();\r\n\r\n  const journey = {\r\n    id: uuidv4(),\r\n    location: '',\r\n    startDate: { day: currentDate.getDate(), month: currentDate.getMonth() + 1, year: currentDate.getFullYear() },\r\n    description: '',\r\n    travellingCompanion: [],\r\n    imageFile: '',\r\n  };\r\n\r\n  const saveJourney = (journey) => {\r\n    const journeys = JSON.parse(localStorage.getItem('journeys')) || [];\r\n    journeys.unshift(journey);\r\n    try {\r\n      localStorage.setItem('journeys', JSON.stringify(journeys));\r\n      props.history.push('/');\r\n    } catch (err) {\r\n      setModalError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"container\">\r\n      <section className=\"new-journey\">\r\n        <img\r\n          className=\"new-journey__img\"\r\n          src=\"https://images.unsplash.com/photo-1553512313-64af79fdfe9c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=400&q=80\"\r\n          alt=\"new-journey\"\r\n        />\r\n        <JourneyForm\r\n          submitButton=\"add journey\"\r\n          journey={journey}\r\n          submitJourney={saveJourney}\r\n        />\r\n        {modalError && (\r\n          <>\r\n            <div className=\"background\"></div>\r\n            <ModalError\r\n              title=\"Oops!\"\r\n              description=\"There is no space to save this journey 😲\"\r\n              onCloseModal={() => setModalError(false)}\r\n            />\r\n          </>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default JourneyCreate;\r\n","import React, { useState } from 'react';\r\nimport NotFoundPage from '../notFoundPage';\r\nimport ModalError from '../../modalError';\r\nimport JourneyForm from '../../JourneyForm';\r\n\r\nfunction JourneyEdit(props) {\r\n  const { id } = props.match.params;\r\n  const [modalError, setModalError] = useState(false);\r\n\r\n  const journeys = JSON.parse(localStorage.getItem('journeys'));\r\n  const journeyIndex = journeys.findIndex((journey) => journey.id === id);\r\n  if (journeyIndex === -1) {\r\n    return <NotFoundPage />;\r\n  }\r\n  const journey = journeys[journeyIndex];\r\n  const imageFile = journey.imageFile\r\n    ? journey.imageFile\r\n    : 'https://images.unsplash.com/photo-1597776089810-2550e6d1e689?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=638&q=80';\r\n\r\n  const updateJourney = (journey) => {\r\n    const journeys = JSON.parse(localStorage.getItem('journeys')) || [];\r\n    const journeyIndex = journeys.findIndex((journey) => journey.id === id);\r\n    if (journeyIndex === -1) {\r\n      journeys.unshift(journey);\r\n    } else {\r\n      const updatedJourney = { ...journeys[journeyIndex], ...journey };\r\n      journeys.splice(journeyIndex, 1, updatedJourney);\r\n    }\r\n    try {\r\n      localStorage.setItem('journeys', JSON.stringify(journeys));\r\n      props.history.push('/');\r\n    } catch (err) {\r\n      setModalError(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"container\">\r\n      <section className=\"new-journey\">\r\n        <div className=\"edit-journey__img\">\r\n          <img src={imageFile} alt=\"edit-journey\" />\r\n        </div>\r\n        <JourneyForm\r\n          submitButton=\"update journey\"\r\n          journey={journey}\r\n          submitJourney={updateJourney}\r\n        />\r\n        {modalError && (\r\n          <>\r\n            <div className=\"background\"></div>\r\n            <ModalError\r\n              title=\"Oops!\"\r\n              description=\"There is no space to save this journey 😲\"\r\n              onCloseModal={() => setModalError(false)}\r\n            />\r\n          </>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default JourneyEdit;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Journeys from '../components/Journeys';\r\nimport NotFoundPage from '../components/pages/notFoundPage';\r\nimport JourneyCreate from '../components/pages/create';\r\nimport JourneyEdit from '../components/pages/edit';\r\n\r\nconst AppRouter = () => (\r\n  <Router>\r\n    <div>\r\n      <Switch>\r\n        <Route path=\"/\" component={Journeys} exact={true} />\r\n        <Route path=\"/create\" component={JourneyCreate} />\r\n        <Route path=\"/edit/:id\" component={JourneyEdit} />\r\n        <Route component={NotFoundPage} />\r\n      </Switch>\r\n    </div>\r\n  </Router>\r\n);\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\nimport 'normalize.css';\nimport './scss/base/App.scss';\nimport AppRouter from './routes/AppRouter';\n\nfunction App() {\n  return <AppRouter />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/base/App.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}