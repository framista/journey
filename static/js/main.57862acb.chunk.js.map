{"version":3,"sources":["utils/format.js","components/JourneyDeleteModal.js","components/JourneyTile.js","components/NoJourney.js","components/Journeys.js","components/NotFoundPage.js","components/ModalError.js","utils/validation.js","components/JourneyForm.js","components/JourneyCreate.js","routes/AppRouter.js","App.js","index.js"],"names":["formatSingleNumber","number","formatter","Intl","RelativeTimeFormat","numeric","DIVISIONS","amount","name","Number","POSITIVE_INFINITY","JourneyDeleteModal","props","journey","deleteJourney","setDeleteModal","setBlockClicking","location","startDate","id","closeModal","e","stopPropagation","className","day","month","year","formatDate","onClick","handleDelete","JourneyTile","imageFile","useState","deleteModal","console","log","src","alt","split","size","round","date","duration","Date","i","length","division","Math","abs","format","formatTimeAgo","NoJourney","to","Journeys","JSON","parse","localStorage","getItem","journeys","setJourneys","blockClicking","handleDeleteJourney","journeysFiltered","filter","style","pointerEvents","map","key","NotFoundPage","history","push","PropTypes","ModalError","title","string","isRequired","description","onCloseModal","func","validateLocation","test","validateStartDate","monthLength","validateDescription","JourneyForm","setJourney","travellingCompanion","errorJourney","setErrorJourney","member","setMember","imageName","setImageName","modalError","setModalError","days","Array","fill","_","index","months","years","getFullYear","y","onStartDateChange","value","period","startDateError","onSubmitJourneyForm","preventDefault","validateForm","submitJourney","locationError","descriptionError","newErrorJourney","checkErrors","onSubmit","type","onChange","target","rows","el","newCompanion","deleteCompanion","onKeyPress","travellingCompanionError","membersAmount","validateTravellingCompanion","fileSize","imageSize","files","fileImageError","reader","FileReader","addEventListener","result","pop","readAsDataURL","onFileImageChange","htmlFor","submitButton","JourneyCreate","uuidv4","unshift","setItem","stringify","err","AppRouter","path","component","exact","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57862acb.chunk.js","sourcesContent":["const formatSingleNumber = (number) => (number < 10 ? '0' + number : number);\r\n\r\nexport const formatDate = ({ day, month, year }) =>\r\n  `${formatSingleNumber(day)}.${formatSingleNumber(month)}.${year}`;\r\n\r\nconst formatter = new Intl.RelativeTimeFormat('en-us', {\r\n  numeric: 'auto',\r\n});\r\n\r\nconst DIVISIONS = [\r\n  { amount: 60, name: 'seconds' },\r\n  { amount: 60, name: 'minutes' },\r\n  { amount: 24, name: 'hours' },\r\n  { amount: 7, name: 'days' },\r\n  { amount: 4.34524, name: 'weeks' },\r\n  { amount: 12, name: 'months' },\r\n  { amount: Number.POSITIVE_INFINITY, name: 'years' },\r\n];\r\n\r\nexport const formatTimeAgo = (date) => {\r\n  let duration = (date - new Date()) / 1000;\r\n  for (let i = 0; i <= DIVISIONS.length; i++) {\r\n    const division = DIVISIONS[i];\r\n    if (Math.abs(duration) < division.amount) {\r\n      return formatter.format(Math.round(duration), division.name);\r\n    }\r\n    duration /= division.amount;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { formatDate } from '../utils/format';\r\n\r\nfunction JourneyDeleteModal(props) {\r\n  const { journey, deleteJourney, setDeleteModal, setBlockClicking } = props;\r\n  const { location, startDate, id } = journey;\r\n\r\n  const closeModal = (e) => {\r\n    e.stopPropagation();\r\n    setDeleteModal(false);\r\n    setBlockClicking(false);\r\n  };\r\n\r\n  const handleDelete = (e, id) => {\r\n    closeModal(e);\r\n    deleteJourney(id);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"background\"></div>\r\n      <div className=\"delete-modal\">\r\n        <div className=\"delete-modal__title\">\r\n          <h5>Are you sure to delete this journey?</h5>\r\n        </div>\r\n        <div className=\"delete-modal__body\">\r\n          <p>\r\n            If you want to delete journey in <span>{location}</span>, which\r\n            started at <span>{formatDate(startDate)}</span> press YES.\r\n          </p>\r\n        </div>\r\n        <div className=\"delete-modal__footer\">\r\n          <button\r\n            className=\"delete-modal__button delete-modal__button--yes\"\r\n            onClick={(e) => handleDelete(e, id)}\r\n          >\r\n            YES\r\n          </button>\r\n          <button\r\n            className=\"delete-modal__button delete-modal__button--no\"\r\n            onClick={(e) => closeModal(e)}\r\n          >\r\n            NO\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default JourneyDeleteModal;\r\n","import React, { useState } from 'react';\r\nimport { TiDelete } from 'react-icons/ti';\r\nimport JourneyDeleteModal from './JourneyDeleteModal';\r\nimport Avatar from 'react-avatar';\r\nimport { formatTimeAgo } from '../utils/format';\r\n\r\nfunction JourneyTile(props) {\r\n  const { journey, deleteJourney, setBlockClicking } = props;\r\n  const { location, startDate, imageFile } = journey;\r\n  const [deleteModal, setDeleteModal] = useState(false);\r\n\r\n  const handleDelete = (e) => {\r\n    e.stopPropagation();\r\n    setDeleteModal(true);\r\n    setBlockClicking(true);\r\n  };\r\n\r\n  const handleShow = () => {\r\n    console.log(location + startDate);\r\n  };\r\n\r\n  console.log(startDate);\r\n  return (\r\n    <div className=\"journey\" onClick={handleShow}>\r\n      {imageFile ? (\r\n        <img className=\"journey__img\" src={imageFile} alt=\"\" />\r\n      ) : (\r\n        <Avatar name={location.split(' ')[0]} size={60} round=\"50%\" />\r\n      )}\r\n      <div className=\"journey__description\">\r\n        <h3 className=\"journey__h3\">{location}</h3>\r\n        <p className=\"journey__p\">\r\n          {formatTimeAgo(\r\n            new Date(startDate.year, startDate.month - 1, startDate.day)\r\n          )}\r\n        </p>\r\n      </div>\r\n      <TiDelete className=\"journey__icon\" onClick={(e) => handleDelete(e)} />\r\n      {deleteModal && (\r\n        <JourneyDeleteModal\r\n          journey={journey}\r\n          deleteJourney={deleteJourney}\r\n          setDeleteModal={setDeleteModal}\r\n          setBlockClicking={setBlockClicking}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default JourneyTile;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NoJourney() {\r\n  return (\r\n    <div className=\"no-journey\">\r\n      <h2 className=\"no-journey__h2\">You don't have any journeys</h2>\r\n      <Link to=\"/create\" className=\"no-journey__btn\">Add journey</Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NoJourney;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport JourneyTile from './JourneyTile';\r\nimport NoJourney from './NoJourney';\r\n\r\nfunction Journeys() {\r\n  /* TODO: change image*/\r\n  const [journeys, setJourneys] = useState(\r\n    JSON.parse(localStorage.getItem('journeys')) || []\r\n  );\r\n\r\n  const [blockClicking, setBlockClicking] = useState(false);\r\n\r\n  const handleDeleteJourney = (id) => {\r\n    const journeysFiltered = journeys.filter((journey) => journey.id !== id);\r\n    setJourneys(journeysFiltered);\r\n  };\r\n\r\n  return (\r\n    <main className=\"container\">\r\n      <section\r\n        className=\"center-container\"\r\n        style={{ pointerEvents: blockClicking ? 'none' : 'auto' }}\r\n      >\r\n        {journeys.length ? (\r\n          <div className=\"journey-container\">\r\n            {journeys.map((journey) => (\r\n              <JourneyTile\r\n                journey={journey}\r\n                key={journey.id}\r\n                deleteJourney={handleDeleteJourney}\r\n                setBlockClicking={setBlockClicking}\r\n              />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <NoJourney />\r\n        )}\r\n        <Link className=\"new-journey__btn--create\" to=\"/create\">\r\n          +\r\n        </Link>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Journeys;\r\n","import React from 'react';\r\n\r\nfunction NotFoundPage(props) {\r\n  return (\r\n    <main className=\"container\">\r\n      <section className=\"no-page\">\r\n        <div className=\"no-page__info\">\r\n          <h2 className=\"no-page__title\">Oops, page not found</h2>\r\n          <p className=\"no-page__description\">\r\n            We are very sorry for the inconvenience. It looks like you're trying\r\n            to access a page that has been deleted or never even existed.\r\n          </p>\r\n          <button\r\n            className=\"no-page__btn\"\r\n            onClick={() => props.history.push('/')}\r\n          >\r\n            Back to homepage\r\n          </button>\r\n        </div>\r\n        <div className=\"no-page__picture\">\r\n          <img\r\n            src=\"https://images.unsplash.com/photo-1549747862-084be795471b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80\"\r\n            alt=\"desert-island\"\r\n          />\r\n          <p className=\"no-page__error\">404</p>\r\n        </div>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default NotFoundPage;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ModalError(props) {\r\n  const { title, description, onCloseModal } = props;\r\n  return (\r\n    <div className=\"modal-error\">\r\n      <div className=\"modal-error__icon\">!</div>\r\n      <h3 className=\"modal-error__title\">{title}</h3>\r\n      <p className=\"modal-error__description\">{description}</p>\r\n      <button className=\"modal-error__button\" onClick={onCloseModal}>\r\n        OK\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nPropTypes.ModalError = {\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  onCloseModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ModalError;\r\n","export const validateLocation = (location) => {\r\n  if (/^(\\s|\\d)/.test(location)) {\r\n    return 'The location should start with a letter';\r\n  } else if (location.length < 3 || location.length > 60) {\r\n    return 'The location should contain min 3 and max 60 characters';\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const validateStartDate = ({ day, month, year }) => {\r\n  const monthLength = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\n  if (year % 400 === 0 || (year % 100 !== 0 && year % 4 === 0)) {\r\n    monthLength[1] = 29;\r\n  }\r\n  if (day > monthLength[month - 1]) {\r\n    return 'Not correct date';\r\n  } else if (new Date(year, month - 1, day) > new Date()) {\r\n    return \"Date shouldn't be from future\";\r\n  } else {\r\n    return '';\r\n  }\r\n};\r\n\r\nexport const validateDescription = (description) => {\r\n  return description.length > 300\r\n    ? 'The description should contain max 300 characters'\r\n    : '';\r\n};\r\n\r\nexport const validateTravellingCompanion = (member, membersAmount) => {\r\n  if (membersAmount > 15) {\r\n    return 'You have too many travelling companions';\r\n  } else if (member.length < 3) {\r\n    return 'The travelling companion should contain at least 3 characters';\r\n  } else if (member.length > 15) {\r\n    return 'The travelling companion should contain max 15 characters';\r\n  } else {\r\n    return '';\r\n  }\r\n};\r\n\r\nexport const validateImageFile = (filename, fileSize) => {\r\n  const allowedExtensions = /(\\.jpg|\\.jpeg|\\.png)$/i;\r\n  if (!allowedExtensions.test(filename)) {\r\n    return 'Not correct type of image file';\r\n  } else if (fileSize > 1000) {\r\n    return 'Too big image';\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const checkErrors = (errorJourney) => {\r\n  for (let key in errorJourney) {\r\n    if (errorJourney[key]) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n};\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport ModalError from './ModalError';\r\n\r\nimport {\r\n  checkErrors,\r\n  validateLocation,\r\n  validateStartDate,\r\n  validateDescription,\r\n  validateTravellingCompanion,\r\n  validateImageFile,\r\n} from '../utils/validation';\r\n\r\nfunction JourneyForm(props) {\r\n  const [journey, setJourney] = useState(props.journey);\r\n\r\n  const [errorJourney, setErrorJourney] = useState({\r\n    location: '',\r\n    startDate: '',\r\n    description: '',\r\n    travellingCompanion: '',\r\n    imageFile: '',\r\n  });\r\n\r\n  const [member, setMember] = useState('');\r\n  const [imageName, setImageName] = useState('');\r\n\r\n  const [modalError, setModalError] = useState(false);\r\n\r\n  const days = new Array(31).fill(0).map((_, index) => index + 1);\r\n  const months = new Array(12).fill(0).map((_, index) => index + 1);\r\n  const years = new Array(51)\r\n    .fill(new Date().getFullYear())\r\n    .map((y, index) => y - index);\r\n\r\n  const onLocationChange = (e) => {\r\n    const location = e.target.value;\r\n    setJourney({ ...journey, location });\r\n    const locationError = validateLocation(location);\r\n    setErrorJourney({\r\n      ...errorJourney,\r\n      location: locationError,\r\n    });\r\n  };\r\n\r\n  const onStartDateChange = (value, period) => {\r\n    const { startDate } = journey;\r\n    startDate[period] = value;\r\n    setJourney({ ...journey, startDate });\r\n    const startDateError = validateStartDate(startDate);\r\n    setErrorJourney({ ...errorJourney, startDate: startDateError });\r\n  };\r\n\r\n  const onDescriptionChange = (e) => {\r\n    const description = e.target.value;\r\n    setJourney({ ...journey, description });\r\n    const descriptionError = validateDescription(description);\r\n    setErrorJourney({\r\n      ...errorJourney,\r\n      description: descriptionError,\r\n    });\r\n  };\r\n\r\n  const deleteCompanion = (index) => {\r\n    const newCompanion = journey.travellingCompanion.filter(\r\n      (_, i) => i !== index\r\n    );\r\n    setJourney({ ...journey, travellingCompanion: newCompanion });\r\n  };\r\n\r\n  const onTravellingCompanionChange = (e) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      const travellingCompanionError = validateTravellingCompanion(\r\n        member,\r\n        journey.travellingCompanion.length\r\n      );\r\n      if (!travellingCompanionError) {\r\n        const newCompanion = [...journey.travellingCompanion, member];\r\n        setJourney({ ...journey, travellingCompanion: newCompanion });\r\n        setMember('');\r\n      }\r\n      setErrorJourney({\r\n        ...errorJourney,\r\n        travellingCompanion: travellingCompanionError,\r\n      });\r\n    }\r\n  };\r\n\r\n  const onFileImageChange = (e) => {\r\n    const imageFile = e.target.value;\r\n    const imageSize = Math.round(e.target.files[0].size / 1024);\r\n    const fileImageError = validateImageFile(imageFile, imageSize);\r\n    setErrorJourney({ ...errorJourney, imageFile: fileImageError });\r\n    if (!fileImageError) {\r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () => {\r\n        setJourney({ ...journey, imageFile: reader.result });\r\n        setImageName(imageFile.split(/(\\\\|\\/)/g).pop());\r\n      });\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onSubmitJourneyForm = (e) => {\r\n    e.preventDefault();\r\n    const isFormInvalid = validateForm();\r\n    if (isFormInvalid) {\r\n      setModalError(true);\r\n    } else {\r\n      setModalError(false);\r\n      props.submitJourney(journey);\r\n    }\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const { location, startDate, description } = journey;\r\n    const locationError = validateLocation(location);\r\n    const descriptionError = validateDescription(description);\r\n    const startDateError = validateStartDate(startDate);\r\n    const newErrorJourney = {\r\n      ...errorJourney,\r\n      location: locationError,\r\n      startDate: startDateError,\r\n      description: descriptionError,\r\n    };\r\n    setErrorJourney(newErrorJourney);\r\n    return checkErrors(newErrorJourney);\r\n  };\r\n\r\n  const onCloseModalError = () => {\r\n    setModalError(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"new-journey__form\" onSubmit={onSubmitJourneyForm}>\r\n        <div className=\"new-journey__group\">\r\n          <label>Location</label>\r\n          <input\r\n            type=\"text\"\r\n            onChange={onLocationChange}\r\n            value={journey.location}\r\n          />\r\n          {errorJourney.location && (\r\n            <p className=\"new-journey__error\">{errorJourney.location}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Start date</label>\r\n          <div className=\"new-journey__date\">\r\n            <div className=\"new-journey__select\">\r\n              Day\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'day')}\r\n                value={journey.startDate.day}\r\n              >\r\n                {days.map((day) => (\r\n                  <option key={day} value={day}>\r\n                    {day}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"new-journey__select\">\r\n              Month\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'month')}\r\n                value={journey.startDate.month}\r\n              >\r\n                {months.map((month) => (\r\n                  <option key={month} value={month}>\r\n                    {month}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"new-journey__select\">\r\n              Year\r\n              <select\r\n                onChange={(e) => onStartDateChange(e.target.value, 'year')}\r\n                value={journey.startDate.year}\r\n              >\r\n                {years.map((year) => (\r\n                  <option key={year} value={year}>\r\n                    {year}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          {errorJourney.startDate && (\r\n            <p className=\"new-journey__error\">{errorJourney.startDate}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Description</label>\r\n          <textarea\r\n            onChange={onDescriptionChange}\r\n            value={journey.description}\r\n            rows={3}\r\n          ></textarea>\r\n          {errorJourney.description && (\r\n            <p className=\"new-journey__error\">{errorJourney.description}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Travelling companion</label>\r\n          <div className=\"new-journey__companion\">\r\n            {journey.travellingCompanion.length > 0 ? (\r\n              journey.travellingCompanion.map((el, index) => (\r\n                <div className=\"new-journey__chip\" key={index}>\r\n                  {el}\r\n                  <div\r\n                    className=\"new-journey__chip--delete\"\r\n                    onClick={() => deleteCompanion(index)}\r\n                  >\r\n                    &times;\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <p className=\"new-journey__add-companion\">\r\n                Insert below the name of travelling companion and press 'Enter'\r\n              </p>\r\n            )}\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            onKeyPress={onTravellingCompanionChange}\r\n            value={member}\r\n            onChange={(e) => setMember(e.target.value)}\r\n          />\r\n          {errorJourney.travellingCompanion && (\r\n            <p className=\"new-journey__error\">\r\n              {errorJourney.travellingCompanion}\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__group\">\r\n          <label>Image</label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"file-image\"\r\n            onChange={(e) => onFileImageChange(e)}\r\n          />\r\n          <div className=\"new-journey__image-info\">\r\n            <label htmlFor=\"file-image\" className=\"new-journey__label--image\">\r\n              Choose image\r\n            </label>\r\n            {imageName && (\r\n              <p className=\"new-journey__image-name\">\r\n                Selected file\r\n                <span> {imageName}</span>\r\n              </p>\r\n            )}\r\n          </div>\r\n          {errorJourney.imageFile && (\r\n            <p className=\"new-journey__error\">{errorJourney.imageFile}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"new-journey__buttons\">\r\n          <Link\r\n            className=\"new-journey__button new-journey__button--back\"\r\n            to=\"/\"\r\n          >\r\n            back to homepage\r\n          </Link>\r\n          <button\r\n            className=\"new-journey__button new-journey__button--add\"\r\n            onClick={onSubmitJourneyForm}\r\n          >\r\n            {props.submitButton}\r\n          </button>\r\n        </div>\r\n      </form>\r\n      {modalError && (\r\n        <>\r\n          <div className=\"background\"></div>\r\n          <ModalError\r\n            title=\"Oops!\"\r\n            description=\"Your form is not correctly filled. Please improve the form and try again.\"\r\n            onCloseModal={onCloseModalError}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nJourneyForm.propTypes = {\r\n  journey: PropTypes.object.isRequired,\r\n  submitButton: PropTypes.string.isRequired,\r\n  submitJourney: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default JourneyForm;\r\n","import React, { useState } from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport ModalError from './ModalError';\r\nimport JourneyForm from './JourneyForm';\r\n\r\nfunction JourneyCreate(props) {\r\n  const [modalError, setModalError] = useState(false);\r\n\r\n  const journey = {\r\n    id: uuidv4(),\r\n    location: '',\r\n    startDate: { day: 1, month: 1, year: new Date().getFullYear() },\r\n    description: '',\r\n    travellingCompanion: [],\r\n    imageFile: '',\r\n  };\r\n\r\n  const saveJourney = (journey) => {\r\n    const journeys = JSON.parse(localStorage.getItem('journeys')) || [];\r\n    journeys.unshift(journey);\r\n    try {\r\n      localStorage.setItem('journeys', JSON.stringify(journeys));\r\n      props.history.push('/');\r\n    } catch (err) {\r\n      setModalError(true);\r\n    }\r\n  };\r\n\r\n  const onCloseModalError = () => {\r\n    setModalError(false);\r\n  };\r\n\r\n  return (\r\n    <main className=\"container\">\r\n      <section className=\"new-journey\">\r\n        <img\r\n          className=\"new-journey__img\"\r\n          src=\"https://images.unsplash.com/photo-1553512313-64af79fdfe9c?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=400&q=80\"\r\n          alt=\"new-journey\"\r\n        />\r\n        <JourneyForm\r\n          submitButton=\"add journey\"\r\n          journey={journey}\r\n          submitJourney={saveJourney}\r\n        />\r\n        {modalError && (\r\n          <>\r\n            <div className=\"background\"></div>\r\n            <ModalError\r\n              title=\"Oops!\"\r\n              description=\"There is no space to save this journey ðŸ˜²\"\r\n              onCloseModal={onCloseModalError}\r\n            />\r\n          </>\r\n        )}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default JourneyCreate;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport Journeys from '../components/Journeys';\r\nimport NotFoundPage from '../components/NotFoundPage';\r\nimport JourneyCreate from '../components/JourneyCreate';\r\n\r\nconst AppRouter = () => (\r\n  <Router>\r\n    <div>\r\n      <Switch>\r\n        <Route path=\"/\" component={Journeys} exact={true} />\r\n        <Route path=\"/create\" component={JourneyCreate} />\r\n        <Route component={NotFoundPage} />\r\n      </Switch>\r\n    </div>\r\n  </Router>\r\n);\r\n\r\nexport default AppRouter;\r\n","import React from 'react';\nimport 'normalize.css';\nimport './scss/base/App.scss';\nimport AppRouter from './routes/AppRouter';\n\nfunction App() {\n  return <AppRouter />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/base/App.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}